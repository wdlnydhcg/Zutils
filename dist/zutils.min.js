!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).zutils={})}(this,function(t){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(t){throw Error('"'+t+'" is read-only')}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){animationTimer=setTimeout(t,1e3/60)},h=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(){clearTimeout(animationTimer)};var e={throttle:function(n,r,i){function o(t,e){n.apply(t,e)}var s=0,a=null;return function(){var t=Date.now();s||!1!==i||(s=t);var e=r-(t-s);a&&clearTimeout(a),0<e?a=setTimeout(o,e,this,arguments):(s=t,o(this,arguments))}},debounce:function(n,t,e){function r(t,e){n.apply(t,e)}var i=null;return function(){e&&!i&&r(this,arguments),i&&clearTimeout(i),i=setTimeout(r,t,this,arguments)}},syncPromise:function(t,e){return t.then(function(t){return[null,t]}).catch(function(t){return e&&Object.assign(t,e),[t,void 0]})},animationFrame:animationFrame,delay:function(e){return new Promise(function(t){setTimeout(t,e)})},compose:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,n);t--;)e=n[t].call(this,e);return e}}};function d(e){return function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}}function v(e){return function(t){return e.test(t)}}function p(t){var e=s(t);return"function"===e||"object"===e&&!!obj}function m(t){return Array.isArray?Array.isArray(t):d("Array")(t)}var g=d("Arguments"),y=d("Null"),b=d("Number"),_=d("String"),w=d("Function"),O=d("Promise"),k=d("Date"),E=d("RegExp"),S=d("Map"),A=d("Set"),M=d("Symbol"),T=d("Error"),z=d("Undefined");function j(t){return p(HTMLElement)?t instanceof HTMLElement:p(t)&&_(t.nodeName)&&1===t.nodeType}var D=v(/link/),x=v(/email/),R=v(/tel/),I=v(/idcard/),L=v(/qq/),P=v(/wechat/),C=v(/html/),H=v(/img/),F={isType:d,isRule:v,isObject:p,isEmptyObject:function(t){return p(t)&&"{}"==JSON.stringify(t)},isEmpty:function(t){return y(t)||z(t)},isArray:m,isNumber:b,isString:_,isNull:y,isUndefined:z,isNaN:function t(e){return b(e)&&t(e)},isArguments:g,isSet:A,isMap:S,isSymbol:M,isPromise:O,isError:T,isDate:k,isRegExp:E,isElement:j,isLink:D,isEMail:x,isTel:R,isWechat:P,isQQ:L,isIdCard:I,isHtmlString:C,isImgTagString:H};function N(t,e){var r=u(t);return function(e){var n=[];return Object.keys(e).forEach(function(t){e[t]&&n.push(RegExp("".concat(t,"\\s*=\\s*(['\"])").concat(e[t],"\\1"),"gim"))}),n}(e).forEach(function(e){var n=[];r.forEach(function(t){e.test(t)&&n.push(t)}),r=n}),r}function U(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.source,n=t.tag,r=t.attrs,i=void 0===r?{}:r;if(!e)return console.warn("请添加source字段"),[];if(!n)return console.warn("请添加tag字段"),[];var o="br,hr,img,input,param,meta,link".split(","),s=RegExp("<".concat(n,"[^<>]*>[\\d\\D]*</").concat(n,">"),"gmi");o.includes(n)&&(s=RegExp("<".concat(n,"[^<>]*/?>"),"gmi"));var a=e.match(s);return a&&a.length&&i&&Object.keys(i).length&&(a=N(a,i)),a||[]}var q={camelize:function(t){return t.replace(/[-_]+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/([A-Z])/g,"-$1"),replace(/_+/g,"-").toLowerCase()},getTagfromHtmlString:U,getAttrFromHtmlString:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.source,n=t.tag,r=t.attr,i=t.attrs;return e?n?r?U({source:e,tag:n,attrs:void 0===i?{}:i}).map(function(t){var e=RegExp("".concat(r,"\\s*=\\s*(['\"])([^\\1]+?)\\1"),"gmi").exec(t);return e&&1<e.length?e[2]:""}):(console.warn("请添加attr字段"),[]):(console.warn("请添加tag字段"),[]):(console.warn("请添加source字段"),[])},getPureTextFromHtmlString:function(t){return t.replace(/<style[^>]*>[\d\D]*<\/style>|<[^>]*>/g,"")},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return t.replace(/[&<>'"]/g,function(t){return e[t]||t})}},B=document.documentElement||document.body;function Y(t){if(t instanceof Window)return arguments.length<=1||void 0===arguments[1]||arguments[1]?B:window;if(j(t))return t;if(_(t)){var e=document.querySelector(t);return j(e)?e:null}return console.warn("当前元素不存在"),null}function Z(t,e){var n=Y(e),r=Y(t);if(n&&r)return r.contains(n)}function W(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:B,n=Y(t),r=Y(e);if(n&&r){if(Z(r,n)){var i=!1;"staic"===function(t,e){var n=Y(t);if(n)return n.currentStyle?n.currentStyle[e]:getComputedStyle(n)[e]}(r,"position")&&(r.style.position="relative",i=!0);for(var o=t.offsetTop,s=t.offsetParent;s&&s!==r&&r.contains(s);)~navigator.userAgent.indexOf("MSIE 8.0")||(o+=s.clientTop),o+=s.offsetTop,s=s.offsetParent;return i&&(r.style.position="static"),o}console.warn("目标元素属于提供元素的子元素")}}function J(){var e=1<arguments.length?arguments[1]:void 0,n=arguments.length<=2||void 0===arguments[2]||arguments[2],r=Y(0<arguments.length&&void 0!==arguments[0]?arguments[0]:B);if(r){var i=0<e-r.scrollTop?20:-20,o=null;!function t(){n&&0<i*(e-r.scrollTop)?0<i*(e-r.scrollTop)?(r.scrollTop+=i,o=c(t)):h(o):r.scrollTop=e}()}}function V(t,e){if(Y(t)){if(!e||_(e))return e;console.warn("类名必须为字符串请不能为空")}}var $={addResizeListener:addResizeListener,removeResizeListener:removeResizeListener,getElement:Y,getElementOffsetTop:W,elementContains:Z,scrollTo:J,scrollToTop:function(){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],e=Y(0<arguments.length&&void 0!==arguments[0]?arguments[0]:B);e&&J(e,0,t)},scrollToBottom:function(){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],e=Y(0<arguments.length&&void 0!==arguments[0]?arguments[0]:B);e&&J(e,e.scrollHeight,t)},scrollToTarget:function(){var t=1<arguments.length?arguments[1]:void 0,e=arguments.length<=2||void 0===arguments[2]||arguments[2],n=Y(0<arguments.length&&void 0!==arguments[0]?arguments[0]:B),r=Y(t);if(n&&r){var i=W(r,n);null===i?console.warn("目标元素属于提供元素的子元素"):J(n,i,e)}},addClass:function(t,e){var n=V(t,e);if(n)if(t.classList)t.classList.add(n);else{var r=n.match(/\b\w+\b/g);r&&r.push(n),t.className=r.join(" ")}},removeClass:function(t,e){var n=V(t,e);if(n)if(t.classList)t.classList.remove(n);else{var r=n.match(/\b\w+\b/g);r=r?r.filter(function(t){return t!==n}):[],t.className=r.join(" ")}},hasClass:function(t,e){var n=V(t,e);if(!n)return!1;if(t.classList)return t.classList.contains(n);var r=n.match(/\b\w+\b/g);return r&&r.includes(n)},loadJs:function(n){return new Promise(function(t){var e=document.createElement("script");e.type="text/javascript",e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()},e.src=n,document.body.appendChild(e)})}};function G(i){return function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(n).reduce(function(t,e){return("keep"===i?r.includes(e):!r.includes(e))&&(t[e]=n[e]),t},{})}}var Q=G("keep"),K=G("remove");var X={clone:function(t,e){var n=e||{};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},deepClone:function t(e){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new WeakMap;if("object"!==s(e)||null===e)return e;var i=e.constructor;switch(i){case RegExp:n=new i(e);break;case Date:n=new i(e.getTime());break;default:if(r.has(e))return r.get(e);n=new i,r.set(e,n)}for(var o in e)n[o]=p(e[o])?t(e[o],r):e[o];return n},extend:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[t].concat(n))},keepKeys:Q,removeKeys:K,replaceKeys:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Object.keys(r);return Object.keys(n).reduce(function(t,e){return t[i.includes(e)?r[e]:e]=n[e],t},{})}};function tt(t){var n=0<arguments.length&&void 0!==t?t:"left";return function(t,e){("left"===n?t:u(t).reverse()).forEach(e)}}function et(t){return"length"in t}function nt(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return t.reduce(function(t,e){return(1<n||0===n)&&m(e)?[].concat(u(t),u(nt(e,1<n?n-1:0))):[].concat(u(t),[e])},[])}function rt(t){return u(Set(t))}function it(t,e){var n=new Set(t);return e.filter(function(t){return n.has(t)})}function ot(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return rt(nt(e,2))}function st(t,e){var n=ot(t,e),r=it(t,e);return n.filter(function(t){return!r.includes(t)})}function at(t){for(var e=u(t),n=e.length;n;){var r=Math.floor(Math.random()*n--),i=[e[r],e[n]];e[n]=i[0],e[r]=i[1]}return e}function ut(t){if(void 0!==t){var e=ht(t);return e.sign=1,e}}var ct={isArrayLike:et,flatten:nt,intersection:it,intersectionAll:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return it(e,t)})},union:ot,difference:st,differenceAll:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return st(e,t)})},array2Tree:function e(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=t.id,o=void 0===i?"id":i,s=t.pid,a=void 0===s?"pid":s,u=t.children,c=void 0===u?"children":u;return n.filter(function(t){return t[a]===r}).map(function(t){return l({},t,f({},c,e(n,t[o],{id:o,pid:a,children:c})))})},array2Object:function(t,r){return t.length?t.reduce(function(t,e,n){return t[r&&e[r]?e[r]:n]=e,t},{}):(console.warn("传入数组为空"),null)},arrayLike2Array:function(t){return et(t)?Array.from(t):(console.warn("当前传入数据不是类数组"),[])},unique:rt,forEach:tt(),forEachRight:tt("right"),chunk:function(n,r){return Array.from({length:Math.ceil(n.length/r)},function(t,e){return n.slice(r*e,r*(e+1))})},countBy:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(t){return t};return t.map(function(t){return w(e)?e(t):t}).reduce(function(t,e){return t[e]=t[e]?++t[e]:1,t},{})},countByValue:function(t,e){return countSameBy(t)[e]},indexOfAll:function(t,r){return t.reduce(function(t,e,n){return e===r?[].concat(u(t),[n]):t},[])},shuffe:at,sample:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return at(t).slice(0,e)}},ft=function(t){return["number"==typeof t,"string"==typeof t&&0<t.length,Array.isArray(t)&&0<t.length,t instanceof ht].some(function(t){return!0===t})},lt={invalid:"Invalid Number",divisionZero:"Division By Zero"};function ht(t){if(!(this instanceof ht))return new ht(t);if(this.number=[],this.sign=1,this.rest=0,ft(t))if(Array.isArray(t)){t.length&&["+","-"].includes(t[0])&&(this.sign="+"===t[0]?1:-1,t.shift(0));for(var e=t.length-1;0<=e;e--)if(!this.addDigit(t[e]))return}else{var n=(t=""+t)[0];["+","-"].includes(n)&&(this.sign="+"==n?1:-1,t=t.substring(1));for(var r=t.length-1;0<=r;r--)if(!this.addDigit(parseInt(t[0|r],10)))return}else this.number=lt.invalid}function dt(t){var e=t;return 1===t.length&&m(t[0])&&(e=t[0]),e}function vt(n,t){return t.sort(function(t,e){return(t-e)*n})}function pt(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return u(dt(e)).reduce(function(t,e){return t+e},0)}ht.prototype.addDigit=function(t){return function(t){return/^\d$/.test(t)}(t)?(this.number.push(t),this):(this.number=lt.invalid,!1)},ht.prototype.isEven=function(){return this.number[0]%2==0},ht.prototype._compare=function(t){if(!ft(t))return null;var e=ht(t);if(this.sign!==e.sign)return this.sign;var n=this.number.length-e.number.length;if(0!==n)return this.sign*n/Math.abs(n);for(var r=this.number.length-1;0<=r;r--)if(0!==(n=this.number[r]-e.number[r]))return this.sign*n/Math.abs(n);return 0},ht.prototype.gt=function(t){return 0<this._compare(t)},ht.prototype.gte=function(t){return 0<=this._compare(t)},ht.prototype.equals=function(t){return 0===this._compare(t)},ht.prototype.lte=function(t){return this._compare(t)<=0},ht.prototype.lt=function(t){return this._compare(t)<0},ht.prototype.add=function(t){if(void 0===t)return this;var e=ht(t);if(this.sign===e.sign)return this.number=ht._add(this,e),this;var n=[e,this],r=0<this.sign?[0,1]:[1,0];return n[r[0]].sign=1,n[r[1]].minus(n[r[0]])},ht.prototype.subtract=function(t){if(void 0===t)return this;var e=ht(t);return this.number=this.sign!==e.sign?ht._add(this,e):(this.sign=this.lt(e)?-1:1,ut(this).lt(ut(e))?ht._subtract(e,this):ht._subtract(this,e)),this},ht._add=function(t,e){for(var n=Math.max(t.number.length,e.number.length),r=0,i=0;r<n||0<i;r++)t.number[r]=(i+=(t.number[r]||0)+(e.number[r]||0))%10,i=Math.floor(i/10);return t.number},ht._subtract=function(t,e){for(var n=0,r=0,i=t.number.length;n<i;n++)t.number[n]-=(e.number[n]||0)+r,t.number[n]+=10*(r=t.number[n]<0?1:0);for(var o=0,s=t.number.length-1;0===t.number[s-o]&&0<s-o;)o++;return 0<o&&t.number.splice(-o),t.number},ht.prototype.multiply=function(t){if(void 0===t)return this;var e=ht(t);if(this.isZero()||e.isZero())return ht(0);this.sign*=e.sign;for(var n=[],r=0;r<this.number.length;r++)for(var i=0,o=0;o<e.number.length||0<i;o++)n[r+o]=(i+=(n[r+o]||0)+this.number[r]*(e.number[o]||0))%10,i=Math.floor(i/10);return this.number=n,this},ht.prototype.divide=function(t){if(void 0===t)return this;var e=ht(t);if(e.isZero())return this.number=lt.divisionZero,this;if(this.isZero())return this.rest=ht(0),this;if(this.sign*=e.sign,(e.sign=1)===e.number.length&&1===e.number[0])return this.rest=ht(0),this;for(var n=[],r=ht(0),i=this.number.length-1;0<=i;i--)for(r.multiply(10),r.number[0]=this.number[i],n[i]=0;e.lte(r);)n[i]++,r.subtract(e);for(var o=0,s=n.length-1;0===n[s-o]&&0<s-o;)o++;return 0<o&&n.splice(-o),this.rest=r,this.number=n,this},ht.prototype.mod=function(t){return this.divide(t).rest},ht.prototype.power=function(t){if(void 0!==t){if(ft(t)){var e=ht(t);if(e.isZero())return ht(1);if("1"===e.val())return this;var n=ht(this);for(this.number=[1];e.gt(0);)e.isEven()?(n.multiply(n),e.div(2)):(this.multiply(n),e.subtract(1));return this}this.number=lt.invalid}},ht.prototype.abs=function(){return this.sign=1,this},ht.prototype.isZero=function(){var t;for(t=0;t<this.number.length;t++)if(0!==this.number[t])return!1;return!0},ht.prototype.toString=function(){if("string"==typeof this.number)return this.number;for(var t="",e=this.number.length-1;0<=e;e--)t+=this.number[e];return 0<this.sign?t:"-"+t},ht.prototype.plus=ht.prototype.add,ht.prototype.minus=ht.prototype.subtract,ht.prototype.div=ht.prototype.divide,ht.prototype.mult=ht.prototype.multiply,ht.prototype.pow=ht.prototype.power,ht.prototype.valueOf=ht.prototype.toString;var mt={sum:pt,average:function(){return pt.apply(void 0,arguments)/(arguments.length?length.length:1)},min:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=dt(e);return Math.min.apply(null,r)},max:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=dt(e);return Math.max.apply(null,r)},fixed:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return b(t)?t.fixed(e):t},toCurrency:function(t){return(t+"").replace(/(?!^)(?=(\d{3})+$)/g,",")},sortAsc:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return vt(1,dt(e))},sortDesc:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return vt(-1,dt(e))},bigInt:ht};function gt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:location.href,e=t.substring(1+t.lastIndexOf("?")),o={};return e.replace(/([^?&=]+)=([^?&=]*)/g,function(t,e,n){var r=decodeURIComponent(e),i=decodeURIComponent(n);return o[r]=i+="",t}),o}function yt(t){return t.test(navigator.userAgent)}function bt(t,e,n){var r=l({},St,{},2<arguments.length&&void 0!==n?n:{}),i=r.expires,o=r.domain,s=r.path,a=r.secure,u=r.httponly,c=r.samesite;s=s||"/";var f=i?new Date("number"==typeof i?(new Date).getTime()+864e5*i:i):0;document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+e.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&0<=f.getTime()?";expires="+f.toUTCString():"")+(o?";domain="+o:"")+(s?";path="+s:"")+(a?";secure":"")+(u?";httponly":"")+(c?";samesite="+c:"")}function _t(t){for(var e={},n=document.cookie.split(";");n.length;){var r=n.pop(),i=r.indexOf("="),o=decodeURIComponent(r.slice(0,i=i<0?r.length:i).replace(/^\s+/,""));if(void 0===t)e[o]=decodeURIComponent(r.slice(i+1));else if(o===t)return decodeURIComponent(r.slice(i+1))}return void 0===t?null:e}var wt={getParam2Json:gt,getJson2Param:function(e){return e?Object.keys(e).map(function(t){return void 0===e[t]?"":"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&"):""},getUrlParam:function(t){var e=gt(1<arguments.length&&void 0!==arguments[1]?arguments[1]:location.href);if(Array.isArray(t)){var n={};return t.forEach(function(t){n[t]=e[t]}),n}if("string"==typeof t)return e[t]}},Ot=yt(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i),kt=!Ot(),Et={isMobile:Ot,isPc:kt,isIPhone:yt(/\(i[^;]+;( U;)? CPU.+Mac OS X/gi),isIPad:yt(/iPad/gi),isAndroid:yt(/android|adr/gi),isChrome:yt(/Chrome/i),isFirefox:yt(/Firefox/i),isSafari:yt(/Safari/i),isMicroMessenger:yt(/MicroMessenger/i),isQQBrowser:yt(/qq/gi),isWeibo:yt(/weibo/gi),isDevice:function(t){return yt(t)}},St={},At={defaults:St,set:bt,get:function(t){_t(t)},clear:function(t,e){bt(t,"",{expires:-1,domain:e&&e.domain,path:e&&e.path,secure:0,httponly:0})},all:function(){_t()}},Mt=window.localStorage,Tt=new Map;var zt=function(){function e(t){n(this,e),this.namespaced=t,this.state={},this.init()}return i(e,[{key:"init",value:function(){try{var t=Mt.getItem(this.namespaced);t&&(this.state=JSON.parse(t)),this.saveState()}catch(t){this.state={},this.saveState()}}},{key:"saveState",value:function(){Mt.setItem(this.namespaced,JSON.stringify(this.state))}},{key:"setItem",value:function(t,e){return this.state[t]=e,this.saveState(),this.state}},{key:"getItem",value:function(t){return this.state[t]}},{key:"removeItem",value:function(t){return this.state=K(this.state,[t]),this.setState(),this.state}},{key:"clear",value:function(){this.state={},Mt.removeItem(this.namespaced)}}]),e}(),jt=window.sessionStorage,Dt=new Map;function xt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"zstore";return Tt.has(t)||Tt.set(t,new zt(t)),Tt.get(t)}function Rt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"zstore";return Dt.has(t)||Dt.set(t,new It(t)),Dt.get(t)}var It=function(){function e(t){n(this,e),this.namespaced=t,this.state={},this.init()}return i(e,[{key:"init",value:function(){try{var t=jt.getItem(this.namespaced);t&&(this.state=JSON.parse(t)),this.saveState()}catch(t){this.state={},this.saveState()}}},{key:"saveState",value:function(){jt.setItem(this.namespaced,JSON.stringify(this.state))}},{key:"setItem",value:function(t,e){return this.state[t]=e,this.saveState(),this.state}},{key:"getItem",value:function(t){return this.state[t]}},{key:"removeItem",value:function(t){return this.state=K(this.state,[t]),this.saveState(),this.state}},{key:"clear",value:function(){this.state={},jt.removeItem(this.namespaced)}}]),e}(),Lt=At;function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(e){return function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}}Z_BEST_COMPRESSION;function Ht(t){return Kt[t]||t.toLowerCase()}function Ft(t){return t?new Date(t):new Date}function Nt(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Ut(t){if(t instanceof Xt)return t;var e={};return t&&(e.date=t),new Xt(e)}var qt,Bt,Yt=Ct("Date"),Zt=Ct("String"),Wt=Ct("Undefined"),Jt=Ct("Number"),Vt=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,$t=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|SS{1,2}/g,Gt={year:"setFullYear",month:"setMonth",date:"setDate",hour:"setHours",minute:"setMinutes",second:"setSeconds",millisecond:"setMilliseconds"},Qt=(qt="日一二三四五六".split("")).length?qt.reduce(function(t,e,n){return t[Bt&&e[Bt]?e[Bt]:n]=e,t},{}):(console.warning("传入数组为空"),null),Kt={y:"year",M:"month",D:"day",H:"hour",m:"minute",s:"second",ms:"millisecond"},Xt=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._date=this.parse(t.date)}return function(t,e,n){e&&Pt(t.prototype,e),n&&Pt(t,n)}(e,[{key:"parse",value:function(t){if(Wt(t))return Ft();if(Yt(t)||Jt(t))return Ft(t);if(Zt(t)&&Vt.test(t)){var e=t.match(Vt);if(e)return new Date(e[1],e[2]-1,e[3]||1,e[4]||0,e[5]||0,e[6]||0,e[7]||0)}return Ft()}},{key:"format",value:function(t){function e(t,e){return 0<e?(t+"").padStart(e,"0"):t+""}var n=0<arguments.length&&void 0!==t?t:"YYYY-MM-DD HH:mm:ss",r=this.year,i=this.month,o=this.date,s=this.hour,a=this.minute,u=this.second,c=this.millisecond,f=this.week,l={YY:e(r).slice(-2),YYYY:e(r),M:e(i+1),MM:e(i+1,2),D:e(o),DD:e(o,2),d:f,dd:Qt[f],H:e(s),HH:e(s,2),h:e(s%12),hh:e(s%12,2),m:e(a),mm:e(a,2),s:e(u),ss:e(u,2),S:e(c),SS:e(c,2)};return n.replace($t,function(t){return l[t]||t})}},{key:"startEnd",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:"start";if(!t||!this.isValid()||"millisecond"===t)return this;function r(t){return"end"===n?o.valueOf()+t-o.valueOf()%t-1:Math.floor(o.valueOf()/t)}var i,o=this._date,s=this.year,a=this.month,u=this.date,c=Ht(t),f="end"===n?1:0,l="end"===n?-1:0;switch(c){case"year":i=Nt(s+f,0,1)+l;break;case"month":i=Nt(s,a+f,1)+l;break;case"day":i=Nt(s,a,u+f)+l;break;case"hour":i=r(36e5);break;case"minute":i=r(6e4);break;case"second":i=r(1e3)}return this._date.setTime(i),this}},{key:"startOf",value:function(t){return this.startEnd(t,"start")}},{key:"endOf",value:function(t){return this.startEnd(t,"end")}},{key:"addSubtract",value:function(t,e,n){var r=Ht(e);this._date[Gt[r]](this[r]+(0<n?t:-t))}},{key:"add",value:function(t,e){return this.addSubtract(t,1<arguments.length&&void 0!==e?e:"s",1),this}},{key:"subtract",value:function(t,e){return this.addSubtract(t,1<arguments.length&&void 0!==e?e:"s",-1),this}},{key:"getTime",value:function(t){return Ft(this.parse(t)).getTime()}},{key:"isLeapYear",value:function(t){var e=this.parse(t).getFullYear();return e%4==0&&e%100!=0||e%400==0}},{key:"isBefore",value:function(t,e){return this.endOf(1<arguments.length&&void 0!==e?e:"s")>this.parse(t)}},{key:"isAfter",value:function(t,e){return this.startOf(1<arguments.length&&void 0!==e?e:"s")>this.parse(t)}},{key:"isSame",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:"s";return this.startOf(n)===Ut(t).startOf(n)}},{key:"isBetween",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:"s",i=this.startOf(r),o=this.endOf(r),s=this.parse(t),a=this.parse(e);return s<=i&&o<=a||a<=i&&o<=s}},{key:"isValid",value:function(){return!(""+this._date=="Invalid Date")}},{key:"valueOf",value:function(){return this.getTime()}},{key:"year",get:function(){return this._date.getFullYear()}},{key:"month",get:function(){return this._date.getMonth()}},{key:"date",get:function(){return this._date.getDate()}},{key:"hour",get:function(){return this._date.getHours()}},{key:"minute",get:function(){return this._date.getMinutes()}},{key:"second",get:function(){return this._date.getSeconds()}},{key:"millisecond",get:function(){return this._date.getMilliseconds()}},{key:"week",get:function(){return this._date.getDay()}}]),e}(),te=function(){if("undefined"!=typeof Map)return Map;function r(t,n){var r=-1;return t.some(function(t,e){return t[0]===n&&(r=e,!0)}),r}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=r(this.__entries__,t),n=this.__entries__[e];return n&&n[1]},t.prototype.set=function(t,e){var n=r(this.__entries__,t);~n?this.__entries__[n][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,n=r(e,t);~n&&e.splice(n,1)},t.prototype.has=function(t){return!!~r(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},t;function t(){this.__entries__=[]}}(),ee="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ne="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),re="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ne):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},ie=2;var oe=["top","right","bottom","left","width","height","size","weight"],se="undefined"!=typeof MutationObserver,ae=(ue.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},ue.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},ue.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ue.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},ue.prototype.connect_=function(){ee&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),se?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ue.prototype.disconnect_=function(){ee&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ue.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;oe.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},ue.getInstance=function(){return this.instance_||(this.instance_=new ue),this.instance_},ue.instance_=null,ue);function ue(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){re(o)}function a(){var t=Date.now();if(n){if(t-i<ie)return;r=!0}else r=!(n=!0),setTimeout(s,e);i=t}return a}(this.refresh.bind(this),20)}var ce=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},fe=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||ne},le=ge(0,0,0,0);function he(t){return parseFloat(t)||0}function de(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(t,e){return t+he(n["border-"+e+"-width"])},0)}function ve(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return le;var r=fe(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=he(t["padding-"+i])}return e}(r),o=i.left+i.right,s=i.top+i.bottom,a=he(r.width),u=he(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=de(r,"left","right")+o),Math.round(u+s)!==n&&(u-=de(r,"top","bottom")+s)),!function(t){return t===fe(t).document.documentElement}(t)){var c=Math.round(a+o)-e,f=Math.round(u+s)-n;1!=Math.abs(c)&&(a-=c),1!=Math.abs(f)&&(u-=f)}return ge(i.left,i.top,a,u)}var pe="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof fe(t).SVGGraphicsElement}:function(t){return t instanceof fe(t).SVGElement&&"function"==typeof t.getBBox};function me(t){return ee?pe(t)?function(t){var e=t.getBBox();return ge(0,0,e.width,e.height)}(t):ve(t):le}function ge(t,e,n,r){return{x:t,y:e,width:n,height:r}}var ye=(be.prototype.isActive=function(){var t=me(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},be.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},be);function be(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ge(0,0,0,0),this.target=t}var _e=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return ce(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}(e);ce(this,{target:t,contentRect:n})},we=(Oe.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof fe(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new ye(t)),this.controller_.addObserver(this),this.controller_.refresh())}},Oe.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof fe(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},Oe.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},Oe.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},Oe.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new _e(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},Oe.prototype.clearActive=function(){this.activeObservations_.splice(0)},Oe.prototype.hasActive=function(){return 0<this.activeObservations_.length},Oe);function Oe(t,e,n){if(this.activeObservations_=[],this.observations_=new te,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}var ke="undefined"!=typeof WeakMap?new WeakMap:new te,Ee=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ae.getInstance(),r=new we(e,n,this);ke.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){Ee.prototype[e]=function(){var t;return(t=ke.get(this))[e].apply(t,arguments)}});function Se(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value.target.__resizeListeners__||[];s.length&&s.forEach(function(t){t()})}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}var Ae=void 0!==ne.ResizeObserver?ne.ResizeObserver:Ee,Me=new(function(){function t(){n(this,t),this.list={}}return i(t,[{key:"on",value:function(t,e){this.list[t]||(this.list[t]=[]),this.list[t].push(e)}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.list[t];o&&o.length&&o.forEach(function(t){t.call.apply(t,[e].concat(r))})}},{key:"remove",value:function(t,e){var n=this.list[t];n&&n.length&&(n=e?(a("fns"),n.filter(function(t){return t!==e})):(a("fns"),[]))}}]),t}());var Te={addResizeListener:function(t,e){var n=Y(t,!1);n&&(n.__resizeListeners__||(n.__resizeListeners__=[],n.__ro__=new Ae(Se),n.__ro__.observe(n)),n.__resizeListeners__.push(e))},removeResizeListener:function(t,e){var n=Y(t,!1);n&&n.__resizeListeners__&&(n.__resizeListeners__.splice(n.__resizeListeners__.indexOf(e),1),n.__resizeListeners__.length||n.__ro__.disconnect())},observer:Me},ze=l({},zutil,{},ztype,{},zstring,{},zhtml,{},zarray,{},zobject,{},zurl,{},zplatform,{},zcookie,{},zlocal,{},zsession,{},zevent,{zdate:zdate});t.default=ze,t.zarray=ct,t.zcookie=Lt,t.zdate=Ut,t.zevent=Te,t.zhtml=$,t.zlocal=xt,t.znumber=mt,t.zobject=X,t.zplatform=Et,t.zsession=Rt,t.zstring=q,t.ztype=F,t.zurl=wt,t.zutil=e,Object.defineProperty(t,"__esModule",{value:!0})});
