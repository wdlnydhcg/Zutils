!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).zutils={})}(this,function(t){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(t){throw Error('"'+t+'" is read-only')}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t){return t.replace(/[-_]+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function f(t,e){var n=u(t),r=function(e){var n=[];return Object.keys(e).forEach(function(t){e[t]&&n.push(RegExp("".concat(t,"\\s*=\\s*(['\"])").concat(e[t],"\\1"),"gim"))}),n}(e),i=[];return r.forEach(function(e){n.forEach(function(t){e.test(t)&&i.push(t)}),n=i}),n}function l(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.source,r=e.tag,i=e.attrs,o=void 0===i?{}:i;if(!n)return console.warn("请添加source字段"),[];if(!r)return console.warn("请添加tag字段"),[];var s="br,hr,img,input,param,meta,link".split(","),a=RegExp("<".concat(r,"[^<>]*>[\\d\\D]*?</").concat(r,">"),"gmi");s.includes(r)&&(a=RegExp("<".concat(r,"[^<>]*/?>"),"gmi"));var u=n.match(a);return u&&u.length&&o&&Object.keys(o).length&&(u=f(u,o)),u||[]}var e={camelize:c,dasherize:function(t){return t.replace(/([A-Z])/g,"-$1").replace(/_+/g,"-").toLowerCase()},getTagfromHtmlString:l,getAttrFromHtmlString:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.source,r=e.tag,i=e.attr,o=e.attrs;return n?r?i?l({source:n,tag:r,attrs:void 0===o?{}:o}).map(function(t){var e=RegExp("".concat(i,"\\s*=\\s*(['\"])([^\\1]+?)\\1"),"gmi").exec(t);return e&&1<e.length?e[2]:""}):(console.warn("请添加attr字段"),[]):(console.warn("请添加tag字段"),[]):(console.warn("请添加source字段"),[])},getPureTextFromHtmlString:function(t){return t.replace(/<style[^>]*>[\d\D]*?<\/style>|<[^>]*>/g,"")},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return t.replace(/[&<>'"]/g,function(t){return e[t]||t})}},v=["exitFullscreen","requestFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],p=function(){for(var i=["webkit","","moz","ms"],t=function(r){if(c("".concat(i[r]).concat(i[r]?"-":"").concat(v[0]))in document)return{v:v.reduce(function(t,e,n){return t[e]=c("".concat(i[r],"-").concat(v[n])),t},{})}},e=0;e<i.length;e++){var n=t(e);if("object"===a(n))return n.v}}(),m=new(function(){function t(){n(this,t)}return i(t,[{key:"exit",value:function(){var n=this;return new Promise(function(e,t){if(n.isFullScreen){n.on("fullscreenchange",function t(){n.off("fullscreenchange",t),e()}),e(document[p.exitFullscreen]()).catch(t)}else e()})}},{key:"request",value:function(t){var n=this,r=t||document.documentElement||document.body;return new Promise(function(e,t){n.on("fullscreenchange",function t(){n.off("fullscreenchange",t),e()}),e(r[p.requestFullscreen]()).catch(t)})}},{key:"toggle",value:function(t){return this.isFullscreen?this.exit():this.request(t)}},{key:"onChange",value:function(t){this.on("fullscreenchange",t)}},{key:"onError",value:function(t){this.on("fullscreenerror",t)}},{key:"on",value:function(t,e){document.addEventListener(p[t],e,!1)}},{key:"off",value:function(t,e){document.removeEventListener(p[t],e,!1)}},{key:"isFullScreen",get:function(){return document[p.fullscreenElement]||docunent.fullscreen}},{key:"isEnabled",get:function(){document}}]),t}()),g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){animationTimer=setTimeout(t,1e3/60)},y=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(){clearTimeout(animationTimer)};function b(e){return function(t){return e.test(t)}}function _(e){return function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}}function w(t){return"function"==typeof t||"object"===a(t)&&!!t}function O(t){return Array.isArray?Array.isArray(t):_("Array")(t)}function k(t){return w(HTMLElement)?t instanceof HTMLElement:w(t)&&X(t.nodeName)&&1===t.nodeType}function E(t,e){if(t instanceof Window)return arguments.length<=1||void 0===e||e?ft:window;if(k(t))return t;if(X(t)){var n=document.querySelector(t);return k(n)?n:null}return console.warn("当前元素不存在"),null}function A(t,e){var n=E(t);if(n)return n.currentStyle?n.currentStyle[e]:getComputedStyle(n)[e]}function S(t,e){var n=E(e),r=E(t);if(n&&r)return r.contains(n)}function z(t,e){var n=1<arguments.length&&void 0!==e?e:ft,r=E(t),i=E(n);if(r&&i){if(S(i,r)){var o=!1;"staic"===A(i,"position")&&(i.style.position="relative",o=!0);for(var s=r.offsetTop,a=r.offsetParent;a&&a!==i&&i.contains(a);)~navigator.userAgent.indexOf("MSIE 8.0")||(s+=a.clientTop),s+=a.offsetTop,a=a.offsetParent;return o&&(i.style.position="static"),s}console.warn("目标元素属于提供元素的子元素")}}function M(t,e,n){var r=1<arguments.length?e:void 0,i=arguments.length<=2||void 0===n||n,o=E(0<arguments.length&&void 0!==t?t:ft);if(o){var s=0<r-o.scrollTop?20:-20,a=null;!function t(){i&&0<s*(r-o.scrollTop)?0<s*(r-o.scrollTop)?(o.scrollTop+=s,a=g(t)):y(a):o.scrollTop=r}()}}function T(t,e){if(E(t)){if(!e||X(e))return(e.match(/\b\w+\b/g)||[])[0]||"";console.warn("类名必须为字符串请不能为空")}}function x(i){return function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(n).reduce(function(t,e){return("keep"===i?r.includes(e):!r.includes(e))&&(t[e]=n[e]),t},{})}}function j(t){var n=0<arguments.length&&void 0!==t?t:"left";return function(t,e){("left"===n?t:u(t).reverse()).forEach(e)}}function D(t){return"length"in t}function C(t,e){var n=1<arguments.length&&void 0!==e?e:1;return t.reduce(function(t,e){return t.concat(1<n&&Array.isArray(e)?C(e,n-1):e)},[])}function P(t){return u(new Set(t))}function R(t,e){var n=new Set(t);return e.filter(function(t){return n.has(t)})}function I(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return P(C(e,2))}function L(t,e){var n=I(t,e),r=R(t,e);return n.filter(function(t){return!r.includes(t)})}function F(t){for(var e=u(t),n=e.length;n;){var r=Math.floor(Math.random()*n--),i=[e[r],e[n]];e[n]=i[0],e[r]=i[1]}return e}function N(t){if(void 0!==t){var e=_t(t);return e.sign=1,e}}var H=b(/((https|http|ftp|rtsp|mms)?:\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)/),U=b(/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/),$=b(/^(\+?0?86-?)?1(3|4|5|6|7|8|9)\d{9}$/),q=b(/^(\d{3,4}-)?\d{7,8}$/),Z=b(/(^\d{15}$)|(^\d{17}([0-9xX])$)/),B=b(/^[1-9][0-9]{4,11}$/),Y=b(/^[a-zA-Z][a-zA-Z0-9_-]{5,19}$/),W=b(/^[1-9]\d{5}(?!\d)$/),J=b(/^[\u4e00-\u9fa5]+$/),V={throttle:function(n,r,i){function o(t,e){n.apply(t,e)}var s=0,a=null;return function(){var t=Date.now();s||!1!==i||(s=t);var e=r-(t-s);a&&clearTimeout(a),0<e?a=setTimeout(o,e,this,arguments):(s=t,o(this,arguments))}},debounce:function(n,t,e){function r(t,e){n.apply(t,e)}var i=null;return function(){e&&!i&&r(this,arguments),i&&clearTimeout(i),i=setTimeout(r,t,this,arguments)}},syncPromise:function(t,e){return t.then(function(t){return[null,t]}).catch(function(t){return e&&Object.assign(t,e),[t,void 0]})},animationFrame:animationFrame,delay:function(e){return new Promise(function(t){setTimeout(t,e)})},compose:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,n);t--;)e=n[t].call(this,e);return e}},copy:function(o){return new Promise(function(t,e){var n=document.createElement("textarea");n.value=o,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var r=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);n.select();var i=!1;document.execCommand&&document.execCommand("copy")&&(document.execCommand("copy"),document.body.removeChild(n),i=!0),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),i?t():e("当前浏览器不支持复制API")})},isRule:b,isLink:H,isEMail:U,isTel:$,isLandline:q,isWechat:Y,isQQ:B,isIdCard:Z,isPost:W,isCharacters:J,isFormatDate:function(t){var e=RegExp("/^d{4}".concat(tg,"d{1,2}").concat(tg,"d{1,2}$/"));return b(e)(t)},screenfull:m},G=_("Arguments"),K=_("Null"),Q=_("Number"),X=_("String"),tt=_("Function"),et=_("Promise"),nt=_("Date"),rt=_("RegExp"),it=_("Map"),ot=_("Set"),st=_("Symbol"),at=_("Error"),ut=_("Undefined"),ct={isType:_,isObject:w,isEmptyObject:function(t){return w(t)&&"{}"==JSON.stringify(t)},isEmpty:function(t){return K(t)||ut(t)},isArray:O,isNumber:Q,isString:X,isNull:K,isUndefined:ut,isNaN:function(t){return Number.isNaN(t)},isArguments:G,isSet:ot,isMap:it,isSymbol:st,isPromise:et,isError:at,isDate:nt,isRegExp:rt,isElement:k},ft=document.documentElement||document.body,lt={getElement:E,getStyle:A,getElementOffsetTop:z,elementContains:S,scrollTo:M,scrollToTop:function(t,e){var n=arguments.length<=1||void 0===e||e,r=E(0<arguments.length&&void 0!==t?t:ft);r&&M(r,0,n)},scrollToBottom:function(t,e){var n=arguments.length<=1||void 0===e||e,r=E(0<arguments.length&&void 0!==t?t:ft);r&&M(r,r.scrollHeight,n)},scrollToTarget:function(t,e,n){var r=arguments.length<=2||void 0===n||n,i=E(1<arguments.length&&void 0!==e?e:ft),o=E(t);if(i&&o){var s=z(o,i);null===s?console.warn("目标元素属于提供元素的子元素"):M(i,s,r)}},addClass:function(t,e){var n=T(t,e);if(n)if(t.classList)t.classList.add(n);else{var r=t.className.match(/\b\w+\b/g)||[];r.push(n),t.className=r.join(" ")}},removeClass:function(t,e){var n=T(t,e);if(n)if(t.classList)t.classList.remove(n);else{var r=t.className.match(/\b\w+\b/g)||[];t.className=r.filter(function(t){return t!==n}).join(" ")}},hasClass:function(t,e){var n=T(t,e);return!!n&&(t.classList?t.classList.contains(n):(t.className.match(/\b\w+\b/g)||[]).includes(n))},loadJs:function(r){return new Promise(function(t,e){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.onerror=function(){e()},n.src=r,document.body.appendChild(n)})}},ht=x("keep"),dt=x("remove"),vt={clone:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},deepClone:function t(e,n){var r,i=1<arguments.length&&void 0!==n?n:new WeakMap;if("object"!==a(e)||null===e)return e;var o=e.constructor;switch(o){case RegExp:r=new o(e);break;case Date:r=new o(e.getTime());break;default:if(i.has(e))return i.get(e);r=new o,i.set(e,r)}for(var s in e)r[s]=w(e[s])?t(e[s],i):e[s];return r},extend:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[t].concat(n))},keepKeys:ht,removeKeys:dt,replaceKeys:function(n,t){var r=1<arguments.length&&void 0!==t?t:{},i=Object.keys(r);return Object.keys(n).reduce(function(t,e){return t[i.includes(e)?r[e]:e]=n[e],t},{})}},pt=j(),mt=j("right"),gt={isArrayLike:D,flatten:C,intersection:R,intersectionAll:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return R(e,t)})},union:I,difference:L,differenceAll:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return L(e,t)})},array2Tree:function e(n,t,r){var i=1<arguments.length&&void 0!==t?t:0,o=2<arguments.length&&void 0!==r?r:{},s=o.id,a=void 0===s?"id":s,u=o.pid,c=void 0===u?"pid":u,f=o.children,l=void 0===f?"children":f;return n.filter(function(t){return t[c]===i}).map(function(t){return d({},t,h({},l,e(n,t[a],{id:a,pid:c,children:l})))})},array2Object:function(t,r){return t.length?t.reduce(function(t,e,n){return t[r&&e[r]?e[r]:n]=e,t},{}):(console.warn("传入数组为空"),null)},arrayLike2Array:function(t){return D(t)?Array.from(t):(console.warn("当前传入数据不是类数组"),[])},unique:P,forEach:pt,forEachRight:mt,chunk:function(n,r){return Array.from({length:Math.ceil(n.length/r)},function(t,e){return n.slice(r*e,r*(e+1))})},countBy:function(t,e){var n=1<arguments.length&&void 0!==e?e:function(t){return t};return t.map(function(t){return tt(n)?n(t):t}).reduce(function(t,e){return t[e]=t[e]?++t[e]:1,t},{})},countByValue:function(t,e){return countSameBy(t)[e]},indexOfAll:function(t,r){return t.reduce(function(t,e,n){return e===r?[].concat(u(t),[n]):t},[])},shuffe:F,sample:function(t,e){var n=1<arguments.length&&void 0!==e?e:1;return F(t).slice(0,n)},getTreeChainByKey:function(t,e){return[]}},yt=function(t){return["number"==typeof t,"string"==typeof t&&0<t.length,Array.isArray(t)&&0<t.length,t instanceof _t].some(function(t){return!0===t})},bt={invalid:"Invalid Number",divisionZero:"Division By Zero"};function _t(t){if(!(this instanceof _t))return new _t(t);if(this.number=[],this.sign=1,this.rest=0,yt(t))if(Array.isArray(t)){t.length&&["+","-"].includes(t[0])&&(this.sign="+"===t[0]?1:-1,t.shift(0));for(var e=t.length-1;0<=e;e--)if(!this.addDigit(t[e]))return}else{var n=(t=""+t)[0];["+","-"].includes(n)&&(this.sign="+"==n?1:-1,t=t.substring(1));for(var r=t.length-1;0<=r;r--)if(!this.addDigit(parseInt(t[0|r],10)))return}else this.number=bt.invalid}_t.prototype.addDigit=function(t){return function(t){return/^\d$/.test(t)}(t)?(this.number.push(t),this):(this.number=bt.invalid,!1)},_t.prototype.isEven=function(){return this.number[0]%2==0},_t.prototype._compare=function(t){if(!yt(t))return null;var e=_t(t);if(this.sign!==e.sign)return this.sign;var n=this.number.length-e.number.length;if(0!==n)return this.sign*n/Math.abs(n);for(var r=this.number.length-1;0<=r;r--)if(0!==(n=this.number[r]-e.number[r]))return this.sign*n/Math.abs(n);return 0},_t.prototype.gt=function(t){return 0<this._compare(t)},_t.prototype.gte=function(t){return 0<=this._compare(t)},_t.prototype.equals=function(t){return 0===this._compare(t)},_t.prototype.lte=function(t){return this._compare(t)<=0},_t.prototype.lt=function(t){return this._compare(t)<0},_t.prototype.add=function(t){if(void 0===t)return this;var e=_t(t);if(this.sign===e.sign)return this.number=_t._add(this,e),this;var n=[e,this],r=0<this.sign?[0,1]:[1,0];return n[r[0]].sign=1,n[r[1]].minus(n[r[0]])},_t.prototype.subtract=function(t){if(void 0===t)return this;var e=_t(t);return this.number=this.sign!==e.sign?_t._add(this,e):(this.sign=this.lt(e)?-1:1,N(this).lt(N(e))?_t._subtract(e,this):_t._subtract(this,e)),this},_t._add=function(t,e){for(var n=Math.max(t.number.length,e.number.length),r=0,i=0;r<n||0<i;r++)t.number[r]=(i+=(t.number[r]||0)+(e.number[r]||0))%10,i=Math.floor(i/10);return t.number},_t._subtract=function(t,e){for(var n=0,r=0,i=t.number.length;n<i;n++)t.number[n]-=(e.number[n]||0)+r,t.number[n]+=10*(r=t.number[n]<0?1:0);for(var o=0,s=t.number.length-1;0===t.number[s-o]&&0<s-o;)o++;return 0<o&&t.number.splice(-o),t.number},_t.prototype.multiply=function(t){if(void 0===t)return this;var e=_t(t);if(this.isZero()||e.isZero())return _t(0);this.sign*=e.sign;for(var n=[],r=0;r<this.number.length;r++)for(var i=0,o=0;o<e.number.length||0<i;o++)n[r+o]=(i+=(n[r+o]||0)+this.number[r]*(e.number[o]||0))%10,i=Math.floor(i/10);return this.number=n,this},_t.prototype.divide=function(t){if(void 0===t)return this;var e=_t(t);if(e.isZero())return this.number=bt.divisionZero,this;if(this.isZero())return this.rest=_t(0),this;if(this.sign*=e.sign,(e.sign=1)===e.number.length&&1===e.number[0])return this.rest=_t(0),this;for(var n=[],r=_t(0),i=this.number.length-1;0<=i;i--)for(r.multiply(10),r.number[0]=this.number[i],n[i]=0;e.lte(r);)n[i]++,r.subtract(e);for(var o=0,s=n.length-1;0===n[s-o]&&0<s-o;)o++;return 0<o&&n.splice(-o),this.rest=r,this.number=n,this},_t.prototype.mod=function(t){return this.divide(t).rest},_t.prototype.power=function(t){if(void 0!==t){if(yt(t)){var e=_t(t);if(e.isZero())return _t(1);if("1"===e.val())return this;var n=_t(this);for(this.number=[1];e.gt(0);)e.isEven()?(n.multiply(n),e.div(2)):(this.multiply(n),e.subtract(1));return this}this.number=bt.invalid}},_t.prototype.abs=function(){return this.sign=1,this},_t.prototype.isZero=function(){var t;for(t=0;t<this.number.length;t++)if(0!==this.number[t])return!1;return!0},_t.prototype.toString=function(){if("string"==typeof this.number)return this.number;for(var t="",e=this.number.length-1;0<=e;e--)t+=this.number[e];return 0<this.sign?t:"-"+t},_t.prototype.plus=_t.prototype.add,_t.prototype.minus=_t.prototype.subtract,_t.prototype.div=_t.prototype.divide,_t.prototype.mult=_t.prototype.multiply,_t.prototype.pow=_t.prototype.power,_t.prototype.valueOf=_t.prototype.toString;function wt(t){var e=t;return 1===t.length&&O(t[0])&&(e=t[0]),e}function Ot(n,t){return t.sort(function(t,e){return(t-e)*n})}function kt(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return u(wt(e)).reduce(function(t,e){return t+e},0)}function Et(t){var e=0<arguments.length&&void 0!==t?t:location.href,n=e.substring(1+e.lastIndexOf("?")),o={};return n.replace(/([^?&=]+)=([^?&=]*)/g,function(t,e,n){var r=decodeURIComponent(e),i=decodeURIComponent(n);return o[r]=i+="",t}),o}function At(e){return e?Object.keys(e).map(function(t){return void 0===e[t]?"":"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&"):""}function St(t){return t.test(navigator.userAgent)}function zt(t,e,n){var r=d({},Pt,{},2<arguments.length&&void 0!==n?n:{}),i=r.expires,o=r.domain,s=r.path,a=r.secure,u=r.httponly,c=r.samesite;s=s||"/";var f=i?new Date("number"==typeof i?(new Date).getTime()+864e5*i:i):0;document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+e.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&0<=f.getTime()?";expires="+f.toUTCString():"")+(o?";domain="+o:"")+(s?";path="+s:"")+(a?";secure":"")+(u?";httponly":"")+(c?";samesite="+c:"")}function Mt(t){for(var e={},n=document.cookie.split(";");n.length;){var r=n.pop(),i=r.indexOf("="),o=decodeURIComponent(r.slice(0,i=i<0?r.length:i).replace(/^\s+/,""));if(void 0===t)e[o]=decodeURIComponent(r.slice(i+1));else if(o===t)return decodeURIComponent(r.slice(i+1))}return void 0===t?null:e}var Tt={sum:kt,average:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=wt(e);return kt.apply(void 0,u(r))/(r.length?r.length:1)},min:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=wt(e);return Math.min.apply(null,r)},max:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=wt(e);return Math.max.apply(null,r)},toFixed:function(t,e){var n=1<arguments.length&&void 0!==e?e:2;return Q(t)?t.toFixed(n):t},toCurrency:function(t){return(t+"").replace(/(?!^)(?=(\d{3})+$)/g,",")},sortAsc:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ot(1,wt(e))},sortDesc:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ot(-1,wt(e))},bigInt:_t},xt={getParam2Json:Et,getJson2Param:At,getUrlParam:function(t,e){var n=1<arguments.length&&void 0!==e?e:location.href,r=Et(n);if(Array.isArray(t)){var i={};return t.forEach(function(t){i[t]=r[t]}),i}if("string"==typeof t)return r[t]},addParam2Url:function(t,e){var n=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length&&void 0!==e?e:location.href,i=r.split("?")[0],o=Et(r),s=At(d({},o,{},n));return"".concat(i,"?").concat(s)},removeParamFromUrl:function(t,e){var n=0<arguments.length&&void 0!==t?t:location.href,r=1<arguments.length&&void 0!==e?e:"",i=n.split("?")[0];if(!r||Array.isArray(r)&&!r.length)return i;var o=Et(n);o=dt(o,Array.isArray(r)?r:r.match(/\b\w+\b/g));var s=At(o);return s?"".concat(i,"?").concat(s):i}},jt=St(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i),Dt=!jt(),Ct={isMobile:jt,isPc:Dt,isIOS:St(/\(i[^;]+;( U;)? CPU.+Mac OS X/gi),isIPad:St(/iPad/gi),isAndroid:St(/android|adr/gi),isChrome:St(/Chrome/i),isFirefox:St(/Firefox/i),isSafari:St(/Safari/i),isMicroMessenger:St(/MicroMessenger/i),isQQBrowser:St(/qq/gi),isWeibo:St(/weibo/gi),isDevice:function(t){return St(t)}},Pt={},Rt={defaults:Pt,set:zt,get:function(t){Mt(t)},clear:function(t,e){zt(t,"",{expires:-1,domain:e&&e.domain,path:e&&e.path,secure:0,httponly:0})},all:function(){Mt()}},It=window.localStorage,Lt=new Map;var Ft=function(){function e(t){n(this,e),this.namespaced=t,this.state={},this.init()}return i(e,[{key:"init",value:function(){try{var t=It.getItem(this.namespaced);t&&(this.state=JSON.parse(t)),this.saveState()}catch(t){this.state={},this.saveState()}}},{key:"saveState",value:function(){It.setItem(this.namespaced,JSON.stringify(this.state))}},{key:"setItem",value:function(t,e){return this.state[t]=e,this.saveState(),this.state}},{key:"getItem",value:function(t){return this.state[t]}},{key:"removeItem",value:function(t){return this.state=dt(this.state,[t]),this.setState(),this.state}},{key:"clear",value:function(){this.state={},It.removeItem(this.namespaced)}}]),e}(),Nt=window.sessionStorage,Ht=new Map;function Ut(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"zstore";return Lt.has(t)||Lt.set(t,new Ft(t)),Lt.get(t)}function $t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"zstore";return Ht.has(t)||Ht.set(t,new qt(t)),Ht.get(t)}var qt=function(){function e(t){n(this,e),this.namespaced=t,this.state={},this.init()}return i(e,[{key:"init",value:function(){try{var t=Nt.getItem(this.namespaced);t&&(this.state=JSON.parse(t)),this.saveState()}catch(t){this.state={},this.saveState()}}},{key:"saveState",value:function(){Nt.setItem(this.namespaced,JSON.stringify(this.state))}},{key:"setItem",value:function(t,e){return this.state[t]=e,this.saveState(),this.state}},{key:"getItem",value:function(t){return this.state[t]}},{key:"removeItem",value:function(t){return this.state=dt(this.state,[t]),this.saveState(),this.state}},{key:"clear",value:function(){this.state={},Nt.removeItem(this.namespaced)}}]),e}(),Zt=Rt;function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(e){return function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}}Z_BEST_COMPRESSION;function Wt(t){return ae[t]||t.toLowerCase()}function Jt(t){return t?new Date(t):new Date}function Vt(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function Gt(t){if(t instanceof ue)return t;var e={};return t&&(e.date=t),new ue(e)}var Kt,Qt,Xt=Yt("Date"),te=Yt("String"),ee=Yt("Undefined"),ne=Yt("Number"),re=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,ie=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|SS{1,2}/g,oe={year:"setFullYear",month:"setMonth",date:"setDate",hour:"setHours",minute:"setMinutes",second:"setSeconds",millisecond:"setMilliseconds"},se=(Kt="日一二三四五六".split("")).length?Kt.reduce(function(t,e,n){return t[Qt&&e[Qt]?e[Qt]:n]=e,t},{}):(console.warning("传入数组为空"),null),ae={y:"year",M:"month",D:"day",H:"hour",m:"minute",s:"second",ms:"millisecond"},ue=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._date=this.parse(t.date)}return function(t,e,n){e&&Bt(t.prototype,e),n&&Bt(t,n)}(e,[{key:"parse",value:function(t){if(ee(t))return Jt();if(Xt(t)||ne(t))return Jt(t);if(te(t)&&re.test(t)){var e=t.match(re);if(e)return new Date(e[1],e[2]-1,e[3]||1,e[4]||0,e[5]||0,e[6]||0,e[7]||0)}return Jt()}},{key:"format",value:function(t){function e(t,e){return 0<e?(t+"").padStart(e,"0"):t+""}var n=0<arguments.length&&void 0!==t?t:"YYYY-MM-DD HH:mm:ss",r=this.year,i=this.month,o=this.date,s=this.hour,a=this.minute,u=this.second,c=this.millisecond,f=this.week,l={YY:e(r).slice(-2),YYYY:e(r),M:e(i+1),MM:e(i+1,2),D:e(o),DD:e(o,2),d:f,dd:se[f],H:e(s),HH:e(s,2),h:e(s%12),hh:e(s%12,2),m:e(a),mm:e(a,2),s:e(u),ss:e(u,2),S:e(c),SS:e(c,2)};return n.replace(ie,function(t){return l[t]||t})}},{key:"startEnd",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:"start";if(!t||!this.isValid()||"millisecond"===t)return this;function r(t){return"end"===n?o.valueOf()+t-o.valueOf()%t-1:Math.floor(o.valueOf()/t)}var i,o=this._date,s=this.year,a=this.month,u=this.date,c=Wt(t),f="end"===n?1:0,l="end"===n?-1:0;switch(c){case"year":i=Vt(s+f,0,1)+l;break;case"month":i=Vt(s,a+f,1)+l;break;case"day":i=Vt(s,a,u+f)+l;break;case"hour":i=r(36e5);break;case"minute":i=r(6e4);break;case"second":i=r(1e3)}return this._date.setTime(i),this}},{key:"startOf",value:function(t){return this.startEnd(t,"start")}},{key:"endOf",value:function(t){return this.startEnd(t,"end")}},{key:"addSubtract",value:function(t,e,n){var r=Wt(e);this._date[oe[r]](this[r]+(0<n?t:-t))}},{key:"add",value:function(t,e){return this.addSubtract(t,1<arguments.length&&void 0!==e?e:"s",1),this}},{key:"subtract",value:function(t,e){return this.addSubtract(t,1<arguments.length&&void 0!==e?e:"s",-1),this}},{key:"getTime",value:function(t){return Jt(this.parse(t)).getTime()}},{key:"isLeapYear",value:function(t){var e=this.parse(t).getFullYear();return e%4==0&&e%100!=0||e%400==0}},{key:"isBefore",value:function(t,e){return this.endOf(1<arguments.length&&void 0!==e?e:"s")>this.parse(t)}},{key:"isAfter",value:function(t,e){return this.startOf(1<arguments.length&&void 0!==e?e:"s")>this.parse(t)}},{key:"isSame",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:"s";return this.startOf(n)===Gt(t).startOf(n)}},{key:"isBetween",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:"s",i=this.startOf(r),o=this.endOf(r),s=this.parse(t),a=this.parse(e);return s<=i&&o<=a||a<=i&&o<=s}},{key:"isValid",value:function(){return!(""+this._date=="Invalid Date")}},{key:"valueOf",value:function(){return this.getTime()}},{key:"year",get:function(){return this._date.getFullYear()}},{key:"month",get:function(){return this._date.getMonth()}},{key:"date",get:function(){return this._date.getDate()}},{key:"hour",get:function(){return this._date.getHours()}},{key:"minute",get:function(){return this._date.getMinutes()}},{key:"second",get:function(){return this._date.getSeconds()}},{key:"millisecond",get:function(){return this._date.getMilliseconds()}},{key:"week",get:function(){return this._date.getDay()}}]),e}(),ce=function(){if("undefined"!=typeof Map)return Map;function r(t,n){var r=-1;return t.some(function(t,e){return t[0]===n&&(r=e,!0)}),r}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=r(this.__entries__,t),n=this.__entries__[e];return n&&n[1]},t.prototype.set=function(t,e){var n=r(this.__entries__,t);~n?this.__entries__[n][1]=e:this.__entries__.push([t,e])},t.prototype.delete=function(t){var e=this.__entries__,n=r(e,t);~n&&e.splice(n,1)},t.prototype.has=function(t){return!!~r(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},t;function t(){this.__entries__=[]}}(),fe="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,le="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),he="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(le):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},de=2;var ve=["top","right","bottom","left","width","height","size","weight"],pe="undefined"!=typeof MutationObserver,me=(ge.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},ge.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},ge.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ge.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length},ge.prototype.connect_=function(){fe&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ge.prototype.disconnect_=function(){fe&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ge.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;ve.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},ge.getInstance=function(){return this.instance_||(this.instance_=new ge),this.instance_},ge.instance_=null,ge);function ge(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){he(o)}function a(){var t=Date.now();if(n){if(t-i<de)return;r=!0}else r=!(n=!0),setTimeout(s,e);i=t}return a}(this.refresh.bind(this),20)}var ye=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},be=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||le},_e=Se(0,0,0,0);function we(t){return parseFloat(t)||0}function Oe(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(t,e){return t+we(n["border-"+e+"-width"])},0)}function ke(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return _e;var r=be(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=we(t["padding-"+i])}return e}(r),o=i.left+i.right,s=i.top+i.bottom,a=we(r.width),u=we(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=Oe(r,"left","right")+o),Math.round(u+s)!==n&&(u-=Oe(r,"top","bottom")+s)),!function(t){return t===be(t).document.documentElement}(t)){var c=Math.round(a+o)-e,f=Math.round(u+s)-n;1!=Math.abs(c)&&(a-=c),1!=Math.abs(f)&&(u-=f)}return Se(i.left,i.top,a,u)}var Ee="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof be(t).SVGGraphicsElement}:function(t){return t instanceof be(t).SVGElement&&"function"==typeof t.getBBox};function Ae(t){return fe?Ee(t)?function(t){var e=t.getBBox();return Se(0,0,e.width,e.height)}(t):ke(t):_e}function Se(t,e,n,r){return{x:t,y:e,width:n,height:r}}var ze=(Me.prototype.isActive=function(){var t=Ae(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},Me.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},Me);function Me(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Se(0,0,0,0),this.target=t}var Te=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return ye(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}(e);ye(this,{target:t,contentRect:n})},xe=(je.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof be(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new ze(t)),this.controller_.addObserver(this),this.controller_.refresh())}},je.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof be(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},je.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},je.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},je.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new Te(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},je.prototype.clearActive=function(){this.activeObservations_.splice(0)},je.prototype.hasActive=function(){return 0<this.activeObservations_.length},je);function je(t,e,n){if(this.activeObservations_=[],this.observations_=new ce,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}var De="undefined"!=typeof WeakMap?new WeakMap:new ce,Ce=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=me.getInstance(),r=new xe(e,n,this);De.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){Ce.prototype[e]=function(){var t;return(t=De.get(this))[e].apply(t,arguments)}});function Pe(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value.target.__resizeListeners__||[];s.length&&s.forEach(function(t){t()})}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}var Re=void 0!==le.ResizeObserver?le.ResizeObserver:Ce,Ie=new(function(){function t(){n(this,t),this.list={}}return i(t,[{key:"on",value:function(t,e){this.list[t]||(this.list[t]=[]),this.list[t].push(e)}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.list[t];o&&o.length&&o.forEach(function(t){t.call.apply(t,[e].concat(r))})}},{key:"remove",value:function(t,e){var n=this.list[t];n&&n.length&&(n=e?(s("fns"),n.filter(function(t){return t!==e})):(s("fns"),[]))}}]),t}()),Le={addResizeListener:function(t,e){var n=E(t,!1);n&&(n.__resizeListeners__||(n.__resizeListeners__=[],n.__ro__=new Re(Pe),n.__ro__.observe(n)),n.__resizeListeners__.push(e))},removeResizeListener:function(t,e){var n=E(t,!1);n&&n.__resizeListeners__&&(n.__resizeListeners__.splice(n.__resizeListeners__.indexOf(e),1),n.__resizeListeners__.length||n.__ro__.disconnect())},observer:Ie},Fe=d({},zutil,{},ztype,{},zstring,{},zhtml,{},zarray,{},zobject,{},zurl,{},zplatform,{},zcookie,{},zlocal,{},zsession,{},zevent,{zdate:zdate});t.default=Fe,t.zarray=gt,t.zcookie=Zt,t.zdate=Gt,t.zevent=Le,t.zhtml=lt,t.zlocal=Ut,t.znumber=Tt,t.zobject=vt,t.zplatform=Ct,t.zsession=$t,t.zstring=e,t.ztype=ct,t.zurl=xt,t.zutil=V,Object.defineProperty(t,"__esModule",{value:!0})});
